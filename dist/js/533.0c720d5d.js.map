{"version":3,"file":"js/533.0c720d5d.js","mappings":"gRAIO,MAAMA,EAAiBA,EAAGC,UAASC,WAAUC,aAC3CC,EAAAA,EAAAA,GAAQ,CACbC,IAAK,sBACLC,OAAQ,MACRC,OAAQ,CACNN,UACAC,WACAC,YAKOK,EAAmBC,IACvBL,EAAAA,EAAAA,GAAQ,CACbC,IAAK,qBACLC,OAAQ,MACRC,OAAQ,CACNE,QAKOC,EAAaD,IACjBL,EAAAA,EAAAA,GAAQ,CACbC,IAAK,oBACLC,OAAQ,OACRK,KAAM,CACJF,KACAG,QAAS,KAKFC,EAAgBJ,IACpBL,EAAAA,EAAAA,GAAQ,CACbC,IAAK,oBACLC,OAAQ,OACRK,KAAM,CACJF,KACAG,QAAS,KAKFE,EAAqBC,IACzBX,EAAAA,EAAAA,GAAQ,CACbC,IAAK,yBACLC,OAAQ,MACRC,OAAQ,CACNK,QAAS,EACTV,SAAU,GACVc,KAAMD,EAAIC,QAKHC,EAAkBF,IACtBX,EAAAA,EAAAA,GAAQ,CACbC,IAAK,yBACLC,OAAQ,MACRC,OAAQ,CACNK,QAAS,EACTV,SAAU,GACVc,KAAMD,EAAIC,O,oECnEhB,IAAIE,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,IAAI,CAACG,MAAM,CAAEC,OAAuB,gBAAfN,EAAIhB,QAA2BuB,MAAM,CAAC,KAAO,gBAAgBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,QAAQ,cAAc,IAAI,CAACV,EAAIW,GAAG,QAAQT,EAAG,IAAI,CAACG,MAAM,CAAEC,OAAuB,OAAfN,EAAIhB,QAAkBuB,MAAM,CAAC,KAAO,gBAAgBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,QAAQ,KAAK,IAAI,CAACV,EAAIW,GAAG,QAAQX,EAAIY,GAAG,KAAKV,EAAG,WAAW,CAACK,MAAM,CAAC,SAAWP,EAAIa,SAAS,gBAAgB,SAASL,GAAG,CAAC,KAAOR,EAAIc,QAAQC,MAAM,CAACC,MAAOhB,EAAIiB,QAASC,SAAS,SAAUC,GAAMnB,EAAIiB,QAAQE,CAAG,EAAEC,WAAW,YAAYpB,EAAIqB,GAAIrB,EAAIsB,MAAM,SAASC,GAAM,OAAOrB,EAAG,cAAc,CAACsB,IAAID,EAAKjC,GAAGiB,MAAM,CAAC,KAAOgB,IAAO,IAAG,IAAI,EACpwB,EACIE,EAAkB,CAAC,WAAY,IAAIzB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACK,MAAM,CAAC,IAAMmB,EAAQ,MAAqB,IAAM,OAChK,G,oBCiCA,GACAC,KAAA,eACAnC,IAAAA,GACA,OAEAV,QAAA,EAEAC,SAAA,GAEAC,OAAA,cAEAsC,KAAA,GAEAL,SAAA,EAEAJ,UAAA,EAEA,EACAe,QAAA,CAEA,YAAAd,GAEA,MAAAtB,QAAAX,EAAAA,EAAAA,IAAA,CACAC,QAAA,KAAAA,QACAC,SAAA,KAAAA,SACAC,OAAA,KAAAA,SAGA,KAAAsC,KAAAO,QAAArC,EAAAA,KAAAsC,MAEA,KAAAhD,UAEA,KAAAmC,SAAA,EAEA,IAAAzB,EAAAA,KAAAsC,KAAAC,SACA,KAAAlB,UAAA,EAEA,EACAH,OAAAA,CAAA1B,GAGA,KAAAA,OAAAA,EACA,KAAAF,QAAA,EACA,KAAAwC,KAAA,GACA,KAAAT,UAAA,EAEA,KAAAI,SAAA,EAEA,KAAAH,QACA,ICrFoW,I,UCQhWkB,GAAY,OACd,EACAjC,EACA0B,GACA,EACA,KACA,WACA,MAIF,EAAeO,EAAiB,O","sources":["webpack://inter/./src/api/article.js","webpack://inter/./src/views/article.vue","webpack://inter/src/views/article.vue","webpack://inter/./src/views/article.vue?c1fa","webpack://inter/./src/views/article.vue?5ae4"],"sourcesContent":["// 导入request\r\nimport request from '@/utils/request'\r\n\r\n// 面经列表\r\nexport const getArticleList = ({ current, pageSize, sorter }) => {\r\n  return request({\r\n    url: '/h5/interview/query',\r\n    method: 'get',\r\n    params: {\r\n      current,\r\n      pageSize,\r\n      sorter\r\n    }\r\n  })\r\n}\r\n// 文章详情\r\nexport const getArticleDetail = id => {\r\n  return request({\r\n    url: '/h5/interview/show',\r\n    method: 'get',\r\n    params: {\r\n      id\r\n    }\r\n  })\r\n}\r\n// 添加喜欢\r\nexport const updateLike = id => {\r\n  return request({\r\n    url: '/h5/interview/opt',\r\n    method: 'post',\r\n    data: {\r\n      id,\r\n      optType: 1 // 喜欢\r\n    }\r\n  })\r\n}\r\n// 添加收藏\r\nexport const updateCollect = id => {\r\n  return request({\r\n    url: '/h5/interview/opt',\r\n    method: 'post',\r\n    data: {\r\n      id,\r\n      optType: 2 // 收藏\r\n    }\r\n  })\r\n}\r\n// 获取我的收藏\r\nexport const getArticlesCollect = obj => {\r\n  return request({\r\n    url: '/h5/interview/opt/list',\r\n    method: 'get',\r\n    params: {\r\n      optType: 2,\r\n      pageSize: 10,\r\n      page: obj.page\r\n    }\r\n  })\r\n}\r\n// 获取我的喜欢\r\nexport const getArticlesLike = obj => {\r\n  return request({\r\n    url: '/h5/interview/opt/list',\r\n    method: 'get',\r\n    params: {\r\n      optType: 1,\r\n      pageSize: 10,\r\n      page: obj.page\r\n    }\r\n  })\r\n}\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"article-page\"},[_c('nav',{staticClass:\"my-nav van-hairline--bottom\"},[_c('a',{class:{ active: _vm.sorter === 'weight_desc' },attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.hChange('weight_desc')}}},[_vm._v(\"推荐\")]),_c('a',{class:{ active: _vm.sorter === null },attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.hChange(null)}}},[_vm._v(\"最新\")]),_vm._m(0)]),_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item){return _c('ArticleItem',{key:item.id,attrs:{\"item\":item}})}),1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.png\"),\"alt\":\"\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"article-page\">\r\n    <nav class=\"my-nav van-hairline--bottom\">\r\n      <a\r\n        :class=\"{ active: sorter === 'weight_desc' }\"\r\n        @click=\"hChange('weight_desc')\"\r\n        href=\"javascript:;\"\r\n        >推荐</a\r\n      >\r\n      <a\r\n        :class=\"{ active: sorter === null }\"\r\n        @click=\"hChange(null)\"\r\n        href=\"javascript:;\"\r\n        >最新</a\r\n      >\r\n      <div class=\"logo\"><img src=\"@/assets/logo.png\" alt=\"\" /></div>\r\n    </nav>\r\n    <!-- 长列表：上拉加载更多 -->\r\n    <van-list\r\n      v-model=\"loading\"\r\n      :finished=\"finished\"\r\n      finished-text=\"没有更多了\"\r\n      @load=\"onLoad\"\r\n    >\r\n      <ArticleItem\r\n        v-for=\"item in list\"\r\n        :key=\"item.id\"\r\n        :item=\"item\"\r\n      ></ArticleItem>\r\n    </van-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 导入接口\r\nimport { getArticleList } from '@/api/article.js'\r\nexport default {\r\n  name: 'article-page',\r\n  data () {\r\n    return {\r\n      // 当前页\r\n      current: 1,\r\n      // 每页数量\r\n      pageSize: 10,\r\n      // 排序规则\r\n      sorter: 'weight_desc',\r\n      // 文章列表\r\n      list: [],\r\n      // 加载更多动画\r\n      loading: false,\r\n      // 是否全部加载完毕\r\n      finished: false\r\n    }\r\n  },\r\n  methods: {\r\n    // 加载更多\r\n    async onLoad () {\r\n      // 请求列表\r\n      const data = await getArticleList({\r\n        current: this.current,\r\n        pageSize: this.pageSize,\r\n        sorter: this.sorter\r\n      })\r\n      // 加载更多，添加到数组后面\r\n      this.list.push(...data.data.rows)\r\n      // 页码自增\r\n      this.current++\r\n      // 设置loading为false，关闭动画，否则底部一直转圈\r\n      this.loading = false\r\n      // 判断是否全部加载完毕,如果加载完毕，设置finished为true\r\n      if (data.data.rows.length === 0) {\r\n        this.finished = true\r\n      }\r\n    },\r\n    hChange (sorter) {\r\n      // 点击切换获取sorter\r\n      // 重置所有的数据\r\n      this.sorter = sorter\r\n      this.current = 1\r\n      this.list = []\r\n      this.finished = false\r\n      // loading状态是true,因为此刻正在发送请求\r\n      this.loading = true\r\n      // 发请求\r\n      this.onLoad()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.article-page {\r\n  margin-bottom: 50px;\r\n  margin-top: 44px;\r\n  .my-nav {\r\n    height: 44px;\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    z-index: 999;\r\n    background: #fff;\r\n    display: flex;\r\n    align-items: center;\r\n    > a {\r\n      color: #999;\r\n      font-size: 14px;\r\n      line-height: 44px;\r\n      margin-left: 20px;\r\n      position: relative;\r\n      transition: all 0.3s;\r\n      &::after {\r\n        content: '';\r\n        position: absolute;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        bottom: 0;\r\n        width: 0;\r\n        height: 2px;\r\n        background: #222;\r\n        transition: all 0.3s;\r\n      }\r\n      &.active {\r\n        color: #222;\r\n        &::after {\r\n          width: 14px;\r\n        }\r\n      }\r\n    }\r\n    .logo {\r\n      flex: 1;\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      > img {\r\n        width: 64px;\r\n        height: 28px;\r\n        display: block;\r\n        margin-right: 10px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/.store/thread-loader@3.0.4/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.store/vue-loader@15.10.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/.store/thread-loader@3.0.4/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.store/vue-loader@15.10.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./article.vue?vue&type=template&id=72c92606&scoped=true&\"\nimport script from \"./article.vue?vue&type=script&lang=js&\"\nexport * from \"./article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./article.vue?vue&type=style&index=0&id=72c92606&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.10.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72c92606\",\n  null\n  \n)\n\nexport default component.exports"],"names":["getArticleList","current","pageSize","sorter","request","url","method","params","getArticleDetail","id","updateLike","data","optType","updateCollect","getArticlesCollect","obj","page","getArticlesLike","render","_vm","this","_c","_self","staticClass","class","active","attrs","on","$event","hChange","_v","_m","finished","onLoad","model","value","loading","callback","$$v","expression","_l","list","item","key","staticRenderFns","require","name","methods","push","rows","length","component"],"sourceRoot":""}